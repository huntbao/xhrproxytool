!function(){"use strict";var e={init:function(){var e=this;chrome.runtime.onMessage.addListener(function(t,n,a){if(n&&n.id===chrome.i18n.getMessage("@@extension_id"))switch(t.name){case"send-request-res":e.sendRequestHandler(t)}}),e.addEvent()},addEvent:function(){document.addEventListener("check-xhrpt-ext",function(e){var t=new CustomEvent("check-xhrpt-ext-res",{detail:{resData:"ok",reqData:e.detail}});document.dispatchEvent(t)}),document.addEventListener("sendto-xhrpt-ext",function(e){chrome.runtime.connect({name:"send-request"}).postMessage(e.detail)}),window.addEventListener("error",function(e){chrome.runtime.connect({name:"page-script-error"}).postMessage({evt:e,data:{message:e.message,filename:e.filename,lineno:e.lineno},from:window.location.href})}),document.addEventListener("exec-scripts",function(e){chrome.runtime.connect({name:"exec-scripts"}).postMessage({evt:e,data:{targetFrameUrl:e.detail.targetFrameUrl,scripts:e.detail.scripts}})})},sendRequestHandler:function(e){var t=new CustomEvent("sendto-xhrpt-ext-res",{detail:{xhr:e.xhr,resData:e.data,reqData:e.reqData}});document.dispatchEvent(t)}},t=document.readyState;"interactive"===t||"complete"===t?e.init():document.addEventListener("DOMContentLoaded",function(){e.init()})}();